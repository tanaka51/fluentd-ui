- page_title t('.page_title')

.row.fluentd-setting-inout
  .col-xs-4
    .panel.panel-default
      .panel-heading
        %h4= t('.in')
      .panel-body
        %p
          = link_to(daemon_setting_in_tail_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_in_tail")
        %p
          = link_to(daemon_setting_in_syslog_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_in_syslog")
        %p
          = link_to(daemon_setting_in_monitor_agent_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_in_monitor_agent")
  .col-xs-1.arrow-right
    = icon "fa-arrow-circle-right"
  .col-xs-2
    = image_tag "/fluentd-logo.png", style: "max-width: 100%"
  .col-xs-1.arrow-right
    = icon "fa-arrow-circle-right"
  .col-xs-4
    .panel.panel-default
      .panel-heading
        %h4= t('.out')
      .panel-body
        %p
          = link_to(daemon_setting_out_td_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_out_td")
        %p
          = link_to(daemon_setting_out_s3_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_out_s3")
        %p
          = link_to(daemon_setting_out_mongo_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_out_mongo")
        %p
          = link_to(daemon_setting_out_elasticsearch_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_out_elasticsearch")
        %p
          = link_to(daemon_setting_out_forward_path(@fluentd)) do
            = icon('fa-file-text-o fa-lg')
            = t("fluentd.common.setup_out_forward")

.current-settings
  %h2= t('.current')
  .row
    .col-xs-6.input
      %h3= t('.in')
      - if @config.sources.empty?
        %p.empty= t('.setting_empty')
      - else
        - @config.sources.each_with_index do |elm, idx|
          .panel.panel-default
            .panel-heading{"data-toggle" => "collapse", "href" => "#source#{idx}", "title" => elm.inspect}
              = elm["type"]
              = icon('fa-caret-down')
            .panel-body.collapse{"id" => "source#{idx}"}
              %pre= elm.to_s
    .col-xs-6.output
      %h3= t('.out')
      - if @config.matches.empty?
        %p.empty= t('.setting_empty')
      - else
        - @config.matches.each_with_index do |elm, idx|
          .panel.panel-default
            .panel-heading{"data-toggle" => "collapse", "href" => "#match#{idx}", "title" => elm.inspect}
              = elm["type"]
              (
              = elm.arg
              )
              = icon('fa-caret-down')
            .panel-body.collapse{"id" => "match#{idx}"}
              %pre= elm.to_s
